\section{File I/O}
\label{sec:IO}
Although the anticipated use cases of Extend generally do not include highly interactive programs, the language has built-in functions that allow the developer to read from and write to files, including standard input, output, and error. These functions are the only part of the language with side effects; as a result, the dependencies between expressions referencing the file I/O functions should be carefully analyzed by the developer to ensure that the program behaves as intended. The precedence operator \texttt{->} can be used to create an artificial dependency between expressions to enforce the correct order of evaluation.
\subsection{File Pointers}
The built-in \texttt{fopen} and \texttt{fclose} functions open and close file pointers for reading and writing. An attempt to open a nonexistent file, or a file that the user does not have permission to read and write, will result in a runtime error causing the program to halt, as will an attempt to close a file pointer that is not open. The return value of \texttt{fopen} is a range that can be supplied as the file pointer argument to \texttt{fclose}, \texttt{fread}, or \texttt{fwrite}. The return value of \texttt{fclose} is \texttt{empty}. The built-in variables \texttt{STDIN}, \texttt{STDOUT}, and \texttt{STDERR} refer to file pointers that do not need to be opened or closed.
\subsection{Reading and Writing}
The built-in \texttt{fread}, \texttt{freadline}, and \texttt{fwrite} functions read from and write to an open file pointer.  \texttt{fread} takes a maximum number of bytes and a file pointer as arguments and returns a 1-by-n range, where n is the lesser of the number of bytes actually read and the maximum number of bytes requested. If the maximum number of bytes requested is \texttt{empty}, the entire contents of the file are returned. \texttt{freadline} takes a file pointer as argument and returns a 1-by-n range, where n is the number of bytes between the current position of the file pointer and the first newline encountered or EOF, whichever occurs first. The newline, if present, is included in the returned range. The arguments to \texttt{fwrite} are a 1-by-n range and a file pointer and the return value is \texttt{empty}.
\subsubsection{Example using the precedence operator}
\lstinputlisting{./tex/fileio_precedence.xtnd}
