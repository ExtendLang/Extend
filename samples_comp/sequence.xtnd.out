{"Program": {"Imports": [],"Globals": [],"Functions": [{"Name": "main","Params": [{"Dimensions": {"d1": {"LitInt":1}, "d2": {"Id": "n"}}, "VarName": "args"}],"Stmts": [{"Vardecl": {"Dimensions": {"d1": null, "d2": null},"Initializations": [{"VarName": "seqFP", "expr": {"Call": {"function": "fopen", "arguments": [{"Selection": {"expr": {"Id": "args"}, "slices": {"slice1": {"start": {"Absolute": {"LitInt":0}}, "end": null}, "slice2": null}}}]}}}]}}, {"Vardecl": {"Dimensions": {"d1": null, "d2": null},"Initializations": [{"VarName": "seq1", "expr": {"Selection": {"expr": {"Call": {"function": "freadline", "arguments": [{"Id": "seqFP"}]}}, "slices": {"slice1": {"start": {"DimensionStart": null}, "end": {"Absolute": {"UnOp": {"operator": "-", "expr": {"LitInt":2}}}}}, "slice2": null}}}}]}}, {"Vardecl": {"Dimensions": {"d1": null, "d2": null},"Initializations": [{"VarName": "seq2", "expr": {"Precedence": { "prior_expr": {"Id": "seq1"}, "dependent_expr": {"Selection": {"expr": {"Call": {"function": "freadline", "arguments": [{"Id": "seqFP"}]}}, "slices": {"slice1": {"start": {"DimensionStart": null}, "end": {"Absolute": {"UnOp": {"operator": "-", "expr": {"LitInt":2}}}}}, "slice2": null}}}}}}]}}, {"Vardecl": {"Dimensions": {"d1": null, "d2": null},"Initializations": [{"VarName": "alignment", "expr": {"Call": {"function": "computeSequenceAlignment", "arguments": [{"Id": "seq1"}, {"Id": "seq2"}, {"LitInt":1}, {"UnOp": {"operator": "-", "expr": {"LitInt":1}}}, {"UnOp": {"operator": "-", "expr": {"LitInt":3}}}]}}}]}}, {"Vardecl": {"Dimensions": {"d1": null, "d2": null},"Initializations": [{"VarName": "output", "expr": {"Precedence": { "prior_expr": {"Precedence": { "prior_expr": {"Call": {"function": "fwrite", "arguments": [{"Selection": {"expr": {"Id": "alignment"}, "slices": {"slice1": {"start": {"DimensionStart": null}, "end": {"DimensionEnd": null}}, "slice2": {"start": {"Absolute": {"LitInt":0}}, "end": null}}}}, {"Id": "STDOUT"}]}}, "dependent_expr": {"Call": {"function": "fwrite", "arguments": [{"Selection": {"expr": {"Id": "alignment"}, "slices": {"slice1": {"start": {"DimensionStart": null}, "end": {"DimensionEnd": null}}, "slice2": {"start": {"Absolute": {"LitInt":1}}, "end": null}}}}, {"Id": "STDOUT"}]}}}}, "dependent_expr": {"Call": {"function": "fclose", "arguments": [{"Id": "seqFP"}]}}}}}]}}],"ReturnVal": {"Dimensions": {"d1": null, "d2": null}, "expr": {"Id": "output"}}}, {"Name": "computeSequenceAlignment","Params": [{"Dimensions": {"d1": {"Id": "m"}, "d2": {"LitInt":1}}, "VarName": "seq1"}, {"Dimensions": {"d1": {"Id": "n"}, "d2": {"LitInt":1}}, "VarName": "seq2"}, {"Dimensions": {"d1": null, "d2": null}, "VarName": "matchReward"}, {"Dimensions": {"d1": null, "d2": null}, "VarName": "mismatchPenalty"}, {"Dimensions": {"d1": null, "d2": null}, "VarName": "gapPenalty"}],"Stmts": [{"Vardecl": {"Dimensions": {"d1": {"Id": "m"}, "d2": {"Id": "n"}},"Initializations": [{"VarName": "scoreFromMatch", "expr": null}, {"VarName": "scoreFromLeft", "expr": null}, {"VarName": "scoreFromTop", "expr": null}]}}, {"Vardecl": {"Dimensions": {"d1": {"Id": "m"}, "d2": {"Id": "n"}},"Initializations": [{"VarName": "step", "expr": null}, {"VarName": "path", "expr": null}]}}, {"Vardecl": {"Dimensions": {"d1": {"LitInt":1}, "d2": {"Id": "n"}},"Initializations": [{"VarName": "seq2T", "expr": {"Call": {"function": "transpose", "arguments": [{"Id": "seq2"}]}}}]}}, {"Vardecl": {"Dimensions": {"d1": {"BinOp": {"expr1": {"Id": "m"}, "operator": "+", "expr2": {"LitInt":1}}}, "d2": {"BinOp": {"expr1": {"Id": "n"}, "operator": "+", "expr2": {"LitInt":1}}}},"Initializations": [{"VarName": "score", "expr": null}]}}, {"Assign": {"VarName": "score", "Selection": {"slice1": {"start": {"Absolute": {"LitInt":0}}, "end": null}, "slice2": {"start": {"Absolute": {"LitInt":0}}, "end": null}}, "expr": {"LitInt":0}}}, {"Assign": {"VarName": "score", "Selection": {"slice1": {"start": {"Absolute": {"LitInt":1}}, "end": {"DimensionEnd": null}}, "slice2": {"start": {"Absolute": {"LitInt":0}}, "end": null}}, "expr": {"BinOp": {"expr1": {"Selection": {"expr": {"Id": "score"}, "slices": {"slice1": {"start": {"Relative": {"UnOp": {"operator": "-", "expr": {"LitInt":1}}}}, "end": null}, "slice2": {"start": null, "end": null}}}}, "operator": "+", "expr2": {"Id": "gapPenalty"}}}}}, {"Assign": {"VarName": "score", "Selection": {"slice1": {"start": {"Absolute": {"LitInt":0}}, "end": null}, "slice2": {"start": {"Absolute": {"LitInt":1}}, "end": {"DimensionEnd": null}}}, "expr": {"BinOp": {"expr1": {"Selection": {"expr": {"Id": "score"}, "slices": {"slice1": {"start": null, "end": null}, "slice2": {"start": {"Relative": {"UnOp": {"operator": "-", "expr": {"LitInt":1}}}}, "end": null}}}}, "operator": "+", "expr2": {"Id": "gapPenalty"}}}}}, {"Assign": {"VarName": "score", "Selection": {"slice1": {"start": {"Absolute": {"LitInt":1}}, "end": {"DimensionEnd": null}}, "slice2": {"start": {"Absolute": {"LitInt":1}}, "end": {"DimensionEnd": null}}}, "expr": {"Call": {"function": "nmax", "arguments": [{"Selection": {"expr": {"Id": "scoreFromMatch"}, "slices": {"slice1": {"start": {"Relative": {"UnOp": {"operator": "-", "expr": {"LitInt":1}}}}, "end": null}, "slice2": {"start": {"Relative": {"UnOp": {"operator": "-", "expr": {"LitInt":1}}}}, "end": null}}}}, {"Call": {"function": "nmax", "arguments": [{"Selection": {"expr": {"Id": "scoreFromLeft"}, "slices": {"slice1": {"start": {"Relative": {"UnOp": {"operator": "-", "expr": {"LitInt":1}}}}, "end": null}, "slice2": {"start": {"Relative": {"UnOp": {"operator": "-", "expr": {"LitInt":1}}}}, "end": null}}}}, {"Selection": {"expr": {"Id": "scoreFromTop"}, "slices": {"slice1": {"start": {"Relative": {"UnOp": {"operator": "-", "expr": {"LitInt":1}}}}, "end": null}, "slice2": {"start": {"Relative": {"UnOp": {"operator": "-", "expr": {"LitInt":1}}}}, "end": null}}}}]}}]}}}}, {"Assign": {"VarName": "scoreFromMatch", "Selection": {"slice1": null, "slice2": null}, "expr": {"BinOp": {"expr1": {"Selection": {"expr": {"Id": "score"}, "slices": {"slice1": null, "slice2": null}}}, "operator": "+", "expr2": {"Ternary": {"condition": {"BinOp": {"expr1": {"Selection": {"expr": {"Id": "seq1"}, "slices": {"slice1": null, "slice2": null}}}, "operator": "==", "expr2": {"Selection": {"expr": {"Id": "seq2T"}, "slices": {"slice1": null, "slice2": null}}}}}, "ifExpr": {"Id": "matchReward"}, "elseExpr": {"Id": "mismatchPenalty"}}}}}}}, {"Assign": {"VarName": "scoreFromLeft", "Selection": {"slice1": null, "slice2": null}, "expr": {"BinOp": {"expr1": {"Selection": {"expr": {"Id": "score"}, "slices": {"slice1": {"start": {"Relative": {"LitInt":1}}, "end": null}, "slice2": {"start": null, "end": null}}}}, "operator": "+", "expr2": {"Id": "gapPenalty"}}}}}, {"Assign": {"VarName": "scoreFromTop", "Selection": {"slice1": null, "slice2": null}, "expr": {"BinOp": {"expr1": {"Selection": {"expr": {"Id": "score"}, "slices": {"slice1": {"start": null, "end": null}, "slice2": {"start": {"Relative": {"LitInt":1}}, "end": null}}}}, "operator": "+", "expr2": {"Id": "gapPenalty"}}}}}, {"Assign": {"VarName": "step", "Selection": {"slice1": null, "slice2": null}, "expr": {"Ternary": {"condition": {"BinOp": {"expr1": {"Selection": {"expr": {"Id": "scoreFromMatch"}, "slices": {"slice1": null, "slice2": null}}}, "operator": ">=", "expr2": {"Selection": {"expr": {"Id": "scoreFromLeft"}, "slices": {"slice1": null, "slice2": null}}}}}, "ifExpr": {"Ternary": {"condition": {"BinOp": {"expr1": {"Selection": {"expr": {"Id": "scoreFromMatch"}, "slices": {"slice1": null, "slice2": null}}}, "operator": ">=", "expr2": {"Selection": {"expr": {"Id": "scoreFromTop"}, "slices": {"slice1": null, "slice2": null}}}}}, "ifExpr": {"Id": "DDD"}, "elseExpr": {"Id": "TTT"}}}, "elseExpr": {"Ternary": {"condition": {"BinOp": {"expr1": {"Selection": {"expr": {"Id": "scoreFromLeft"}, "slices": {"slice1": null, "slice2": null}}}, "operator": ">=", "expr2": {"Selection": {"expr": {"Id": "scoreFromTop"}, "slices": {"slice1": null, "slice2": null}}}}}, "ifExpr": {"Id": "LLL"}, "elseExpr": {"Id": "TTT"}}}}}}}, {"Assign": {"VarName": "path", "Selection": {"slice1": {"start": {"Absolute": {"UnOp": {"operator": "-", "expr": {"LitInt":1}}}}, "end": null}, "slice2": {"start": {"Absolute": {"UnOp": {"operator": "-", "expr": {"LitInt":1}}}}, "end": null}}, "expr": {"LitInt":1}}}, {"Assign": {"VarName": "path", "Selection": {"slice1": {"start": {"Absolute": {"UnOp": {"operator": "-", "expr": {"LitInt":1}}}}, "end": null}, "slice2": {"start": {"DimensionStart": null}, "end": {"Absolute": {"UnOp": {"operator": "-", "expr": {"LitInt":1}}}}}}, "expr": {"Ternary": {"condition": {"BinOp": {"expr1": {"BinOp": {"expr1": {"Selection": {"expr": {"Id": "step"}, "slices": {"slice1": {"start": null, "end": null}, "slice2": {"start": {"Relative": {"LitInt":1}}, "end": null}}}}, "operator": "==", "expr2": {"Id": "LLL"}}}, "operator": "&& ", "expr2": {"UnOp": {"operator": "!", "expr": {"Call": {"function": "isEmpty", "arguments": [{"Selection": {"expr": {"Id": "path"}, "slices": {"slice1": {"start": null, "end": null}, "slice2": {"start": {"Relative": {"LitInt":1}}, "end": null}}}}]}}}}}}, "ifExpr": {"BinOp": {"expr1": {"LitInt":1}, "operator": "+", "expr2": {"Selection": {"expr": {"Id": "path"}, "slices": {"slice1": {"start": null, "end": null}, "slice2": {"start": {"Relative": {"LitInt":1}}, "end": null}}}}}}, "elseExpr": {"Empty": null}}}}}, {"Assign": {"VarName": "path", "Selection": {"slice1": {"start": {"DimensionStart": null}, "end": {"Absolute": {"UnOp": {"operator": "-", "expr": {"LitInt":1}}}}}, "slice2": {"start": {"Absolute": {"UnOp": {"operator": "-", "expr": {"LitInt":1}}}}, "end": null}}, "expr": {"Ternary": {"condition": {"BinOp": {"expr1": {"BinOp": {"expr1": {"Selection": {"expr": {"Id": "step"}, "slices": {"slice1": {"start": {"Relative": {"LitInt":1}}, "end": null}, "slice2": {"start": null, "end": null}}}}, "operator": "==", "expr2": {"Id": "TTT"}}}, "operator": "&& ", "expr2": {"UnOp": {"operator": "!", "expr": {"Call": {"function": "isEmpty", "arguments": [{"Selection": {"expr": {"Id": "path"}, "slices": {"slice1": {"start": {"Relative": {"LitInt":1}}, "end": null}, "slice2": {"start": null, "end": null}}}}]}}}}}}, "ifExpr": {"BinOp": {"expr1": {"LitInt":1}, "operator": "+", "expr2": {"Selection": {"expr": {"Id": "path"}, "slices": {"slice1": {"start": {"Relative": {"LitInt":1}}, "end": null}, "slice2": {"start": null, "end": null}}}}}}, "elseExpr": {"Empty": null}}}}}, {"Assign": {"VarName": "path", "Selection": {"slice1": {"start": {"DimensionStart": null}, "end": {"Absolute": {"UnOp": {"operator": "-", "expr": {"LitInt":1}}}}}, "slice2": {"start": {"DimensionStart": null}, "end": {"Absolute": {"UnOp": {"operator": "-", "expr": {"LitInt":1}}}}}}, "expr": {"Switch": {"condition": null, "cases": [{"Cases": [{"BinOp": {"expr1": {"BinOp": {"expr1": {"Selection": {"expr": {"Id": "step"}, "slices": {"slice1": {"start": {"Relative": {"LitInt":1}}, "end": null}, "slice2": {"start": {"Relative": {"LitInt":1}}, "end": null}}}}, "operator": "==", "expr2": {"Id": "DDD"}}}, "operator": "&& ", "expr2": {"UnOp": {"operator": "!", "expr": {"Call": {"function": "isEmpty", "arguments": [{"Selection": {"expr": {"Id": "path"}, "slices": {"slice1": {"start": {"Relative": {"LitInt":1}}, "end": null}, "slice2": {"start": {"Relative": {"LitInt":1}}, "end": null}}}}]}}}}}}], "expr": {"BinOp": {"expr1": {"LitInt":1}, "operator": "+", "expr2": {"Selection": {"expr": {"Id": "path"}, "slices": {"slice1": {"start": {"Relative": {"LitInt":1}}, "end": null}, "slice2": {"start": {"Relative": {"LitInt":1}}, "end": null}}}}}}}, {"Cases": [{"BinOp": {"expr1": {"BinOp": {"expr1": {"Selection": {"expr": {"Id": "step"}, "slices": {"slice1": {"start": null, "end": null}, "slice2": {"start": {"Relative": {"LitInt":1}}, "end": null}}}}, "operator": "==", "expr2": {"Id": "LLL"}}}, "operator": "&& ", "expr2": {"UnOp": {"operator": "!", "expr": {"Call": {"function": "isEmpty", "arguments": [{"Selection": {"expr": {"Id": "path"}, "slices": {"slice1": {"start": null, "end": null}, "slice2": {"start": {"Relative": {"LitInt":1}}, "end": null}}}}]}}}}}}], "expr": {"BinOp": {"expr1": {"LitInt":1}, "operator": "+", "expr2": {"Selection": {"expr": {"Id": "path"}, "slices": {"slice1": {"start": null, "end": null}, "slice2": {"start": {"Relative": {"LitInt":1}}, "end": null}}}}}}}, {"Cases": [{"BinOp": {"expr1": {"BinOp": {"expr1": {"Selection": {"expr": {"Id": "step"}, "slices": {"slice1": {"start": {"Relative": {"LitInt":1}}, "end": null}, "slice2": {"start": null, "end": null}}}}, "operator": "==", "expr2": {"Id": "TTT"}}}, "operator": "&& ", "expr2": {"UnOp": {"operator": "!", "expr": {"Call": {"function": "isEmpty", "arguments": [{"Selection": {"expr": {"Id": "path"}, "slices": {"slice1": {"start": {"Relative": {"LitInt":1}}, "end": null}, "slice2": {"start": null, "end": null}}}}]}}}}}}], "expr": {"BinOp": {"expr1": {"LitInt":1}, "operator": "+", "expr2": {"Selection": {"expr": {"Id": "path"}, "slices": {"slice1": {"start": {"Relative": {"LitInt":1}}, "end": null}, "slice2": {"start": null, "end": null}}}}}}}]}}}}, {"Vardecl": {"Dimensions": {"d1": null, "d2": null},"Initializations": [{"VarName": "pathLen", "expr": {"Selection": {"expr": {"Id": "path"}, "slices": {"slice1": {"start": {"Absolute": {"LitInt":0}}, "end": null}, "slice2": {"start": {"Absolute": {"LitInt":0}}, "end": null}}}}}]}}, {"Vardecl": {"Dimensions": {"d1": {"Id": "m"}, "d2": {"LitInt":1}},"Initializations": [{"VarName": "seq1Positions", "expr": {"BinOp": {"expr1": {"Id": "pathLen"}, "operator": "-", "expr2": {"Call": {"function": "rmax", "arguments": [{"Selection": {"expr": {"Id": "path"}, "slices": {"slice1": {"start": null, "end": null}, "slice2": {"start": {"DimensionStart": null}, "end": {"DimensionEnd": null}}}}}]}}}}}]}}, {"Vardecl": {"Dimensions": {"d1": {"LitInt":1}, "d2": {"Id": "n"}},"Initializations": [{"VarName": "seq2PositionsT", "expr": {"BinOp": {"expr1": {"Id": "pathLen"}, "operator": "-", "expr2": {"Call": {"function": "rmax", "arguments": [{"Selection": {"expr": {"Id": "path"}, "slices": {"slice1": {"start": {"DimensionStart": null}, "end": {"DimensionEnd": null}}, "slice2": {"start": null, "end": null}}}}]}}}}}]}}, {"Vardecl": {"Dimensions": {"d1": {"Id": "n"}, "d2": {"LitInt":1}},"Initializations": [{"VarName": "seq2Positions", "expr": {"Call": {"function": "transpose", "arguments": [{"Id": "seq2PositionsT"}]}}}]}}, {"Vardecl": {"Dimensions": {"d1": {"Id": "pathLen"}, "d2": {"LitInt":1}},"Initializations": [{"VarName": "resIdx", "expr": {"Call": {"function": "colRange", "arguments": [{"LitInt":0}, {"Id": "pathLength"}]}}}]}}, {"Vardecl": {"Dimensions": {"d1": {"Id": "pathLen"}, "d2": {"LitInt":1}},"Initializations": [{"VarName": "seq1Loc", "expr": {"Call": {"function": "match", "arguments": [{"Id": "resIdx"}, {"Id": "seq1Positions"}]}}}]}}, {"Vardecl": {"Dimensions": {"d1": {"Id": "pathLen"}, "d2": {"LitInt":1}},"Initializations": [{"VarName": "seq2Loc", "expr": {"Call": {"function": "match", "arguments": [{"Id": "resIdx"}, {"Id": "seq2Positions"}]}}}]}}, {"Vardecl": {"Dimensions": {"d1": {"Id": "pathLength"}, "d2": {"LitInt":2}},"Initializations": [{"VarName": "results", "expr": null}]}}, {"Assign": {"VarName": "results", "Selection": {"slice1": {"start": {"DimensionStart": null}, "end": {"DimensionEnd": null}}, "slice2": {"start": {"Absolute": {"LitInt":0}}, "end": null}}, "expr": {"Selection": {"expr": {"Id": "seq1"}, "slices": {"slice1": {"start": {"Absolute": {"Id": "seq1Loc"}}, "end": null}, "slice2": null}}}}}, {"Assign": {"VarName": "results", "Selection": {"slice1": {"start": {"DimensionStart": null}, "end": {"DimensionEnd": null}}, "slice2": {"start": {"Absolute": {"LitInt":1}}, "end": null}}, "expr": {"Selection": {"expr": {"Id": "seq2"}, "slices": {"slice1": {"start": {"Absolute": {"Id": "seq2Loc"}}, "end": null}, "slice2": null}}}}}],"ReturnVal": {"Dimensions": {"d1": {"Wild": null}, "d2": {"LitInt":2}}, "expr": {"Id": "results"}}}]}}
